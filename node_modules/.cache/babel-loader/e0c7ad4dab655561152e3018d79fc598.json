{"ast":null,"code":"import _defineProperty from\"C:/Users/Lukas/OneDrive/Documents/Sem3/exam2022/exam2022_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Lukas/OneDrive/Documents/Sem3/exam2022/exam2022_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Lukas/OneDrive/Documents/Sem3/exam2022/exam2022_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";// styles\nimport{StyledBookingInput,StyledBookingForm,StyledButton,MyBody}from\"../AdminEndpoint/Admin.styles\";//Url\nimport{createUrl,deleteUrl}from'../../../settings';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={washerName:\"\",language:\"\",yearsOfExp:\"\",priceHour:\"\",assistantName:\"\"};var AdminEndpoint=function AdminEndpoint(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),response=_useState2[0],setResponse=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),newAssistant=_useState4[0],setnewAssistant=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),oldAssistant=_useState6[0],delAssistant=_useState6[1];var handleCreateChange=function handleCreateChange(e){setnewAssistant(_objectSpread(_objectSpread({},newAssistant),{},_defineProperty({},e.target.id,e.target.value)));};var handleDelChange=function handleDelChange(e){delAssistant(_objectSpread(_objectSpread({},oldAssistant),{},_defineProperty({},e.target.id,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();axios.post(\"\".concat(createUrl),newAssistant,{headers:{'x-access-token':sessionStorage.getItem('jwtToken')}}).then(function(response){setResponse(response.data);});};var handleDelSubmit=function handleDelSubmit(e){e.preventDefault();axios.delete(\"\".concat(deleteUrl,\"/\").concat(oldAssistant.assistantName),oldAssistant.assistantName,{headers:{'x-access-token':sessionStorage.getItem('jwtToken')}}).then(function(response){setResponse(response.data);});};return/*#__PURE__*/_jsxs(MyBody,{children:[/*#__PURE__*/_jsxs(StyledBookingForm,{children:[\"Add a new Washing assistant\",/*#__PURE__*/_jsx(StyledBookingInput,{type:\"String\",placeholder:\"Name\",id:\"washerName\",value:newAssistant.washerName,onChange:handleCreateChange}),/*#__PURE__*/_jsx(StyledBookingInput,{type:\"String\",placeholder:\"Language\",id:\"language\",value:newAssistant.language,onChange:handleCreateChange}),/*#__PURE__*/_jsx(StyledBookingInput,{type:\"number\",placeholder:\"Years of experience\",id:\"yearsOfExp\",value:newAssistant.yearsOfExp,onChange:handleCreateChange}),/*#__PURE__*/_jsx(StyledBookingInput,{type:\"number\",id:\"priceHour\",placeholder:\"Price / hour\",value:newAssistant.priceHour,onChange:handleCreateChange}),/*#__PURE__*/_jsx(StyledButton,{onClick:handleSubmit,children:\"Confirm\"})]}),/*#__PURE__*/_jsxs(StyledBookingForm,{children:[\"Delete an assistant\",/*#__PURE__*/_jsx(StyledBookingInput,{type:\"String\",placeholder:\"Name\",id:\"assistantName\",value:oldAssistant.assistantName,onChange:handleDelChange}),/*#__PURE__*/_jsx(StyledButton,{onClick:handleDelSubmit,children:\"Confirm\"})]})]});};export default AdminEndpoint;","map":{"version":3,"sources":["C:/Users/Lukas/OneDrive/Documents/Sem3/exam2022/exam2022_frontend/src/components/Endpoints/AdminEndpoint/index.js"],"names":["React","useState","axios","StyledBookingInput","StyledBookingForm","StyledButton","MyBody","createUrl","deleteUrl","initialState","washerName","language","yearsOfExp","priceHour","assistantName","AdminEndpoint","response","setResponse","newAssistant","setnewAssistant","oldAssistant","delAssistant","handleCreateChange","e","target","id","value","handleDelChange","handleSubmit","preventDefault","post","headers","sessionStorage","getItem","then","data","handleDelSubmit","delete"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// styles\r\nimport { StyledBookingInput, StyledBookingForm, StyledButton, MyBody } from \"../AdminEndpoint/Admin.styles\";\r\n\r\n//Url\r\nimport { createUrl, deleteUrl } from '../../../settings';\r\n\r\nconst initialState = {\r\n    washerName: \"\",\r\n    language: \"\",\r\n    yearsOfExp: \"\",\r\n    priceHour: \"\",\r\n    assistantName: \"\"\r\n}\r\n\r\nconst AdminEndpoint = () => {\r\n    const [response, setResponse] = useState('');\r\n    const [newAssistant, setnewAssistant] = useState({});\r\n    const [oldAssistant, delAssistant] = useState([]);\r\n\r\n    const handleCreateChange = (e) => {\r\n        setnewAssistant({\r\n            ...newAssistant,\r\n            [e.target.id]: e.target.value,\r\n        });\r\n    };\r\n\r\n    const handleDelChange = (e) => {\r\n        delAssistant({\r\n            ...oldAssistant,\r\n            [e.target.id]: e.target.value,\r\n        });\r\n    };\r\n\r\nconst handleSubmit = (e) =>{\r\n    e.preventDefault();\r\n    axios.post(`${createUrl}`, newAssistant,{\r\n        headers: {\r\n            'x-access-token':sessionStorage.getItem('jwtToken'),\r\n        }\r\n    })\r\n    .then((response) => {\r\n        setResponse(response.data);\r\n    }      \r\n)};\r\n\r\nconst handleDelSubmit = (e) =>{\r\n    e.preventDefault();\r\n    axios.delete(`${deleteUrl}/${oldAssistant.assistantName}`,oldAssistant.assistantName,{\r\n        headers: {\r\n            'x-access-token':sessionStorage.getItem('jwtToken'),\r\n        }\r\n    })\r\n    .then((response) => {\r\n        setResponse(response.data);\r\n    }      \r\n)};\r\n\r\nreturn (\r\n    <MyBody>\r\n      <StyledBookingForm>\r\n      Add a new Washing assistant\r\n        <StyledBookingInput \r\n            type=\"String\"\r\n            placeholder=\"Name\"\r\n            id='washerName'\r\n            value={newAssistant.washerName}\r\n            onChange={handleCreateChange}\r\n        ></StyledBookingInput>\r\n        \r\n            <StyledBookingInput \r\n            type=\"String\"\r\n            placeholder=\"Language\"\r\n            id='language'\r\n            value={newAssistant.language}\r\n            onChange={handleCreateChange}\r\n            ></StyledBookingInput>\r\n\r\n        <StyledBookingInput \r\n            type=\"number\"\r\n            placeholder=\"Years of experience\"\r\n            id='yearsOfExp'\r\n            value={newAssistant.yearsOfExp}\r\n            onChange={handleCreateChange}\r\n        ></StyledBookingInput>\r\n\r\n        <StyledBookingInput \r\n            type=\"number\"\r\n            id='priceHour'\r\n            placeholder=\"Price / hour\"\r\n            value={newAssistant.priceHour}\r\n            onChange={handleCreateChange}\r\n        ></StyledBookingInput>\r\n\r\n            <StyledButton onClick={handleSubmit}>\r\n            Confirm      \r\n            </StyledButton>\r\n      </StyledBookingForm>\r\n\r\n\r\n      <StyledBookingForm>\r\n        Delete an assistant\r\n        <StyledBookingInput \r\n            type=\"String\"\r\n            placeholder=\"Name\"\r\n            id='assistantName'\r\n            value={oldAssistant.assistantName}\r\n            onChange={handleDelChange}\r\n            ></StyledBookingInput>\r\n            \r\n            <StyledButton onClick={handleDelSubmit}>\r\n            Confirm      \r\n            </StyledButton>\r\n\r\n        </StyledBookingForm>\r\n    </MyBody>\r\n    );\r\n};\r\n\r\nexport default AdminEndpoint;"]},"metadata":{},"sourceType":"module"}